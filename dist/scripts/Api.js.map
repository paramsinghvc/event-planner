{"version":3,"sources":["Api.js"],"names":["window","Api","signUpUser","data","email","password","firebase","auth","createUserWithEmailAndPassword","storeUserInfo","name","job_title","phone","currentUser","updateProfile","submitEvent","uid","id","newKey","database","ref","child","push","key","update","fetchEvents","once","then","s","val"],"mappings":";;;;AAAAA,OAAOC,GAAP,GAAc,YAAW;;AAErB,WAAO;AACHC,kBADG,sBACQC,IADR,EACc;AAAA,gBACLC,KADK,GACeD,IADf,CACLC,KADK;AAAA,gBACEC,QADF,GACeF,IADf,CACEE,QADF;;AAEb,mBAAOC,SAASC,IAAT,GAAgBC,8BAAhB,CAA+CJ,KAA/C,EAAsDC,QAAtD,CAAP;AACH,SAJE;AAMHI,qBANG,yBAMWN,IANX,EAMiB;AAAA,gBACRO,IADQ,GACmBP,IADnB,CACRO,IADQ;AAAA,gBACFC,SADE,GACmBR,IADnB,CACFQ,SADE;AAAA,gBACSC,KADT,GACmBT,IADnB,CACSS,KADT;;;AAGhB,gBAAIC,cAAcP,SAASC,IAAT,GAAgBM,WAAlC;AACA,gBAAIA,WAAJ,EAAiB;AACb,uBAAOA,YAAYC,aAAZ,CAA0B;AAC7BJ,8BAD6B;AAE7BC,wCAF6B;AAG7BC;AAH6B,iBAA1B,CAAP;AAKH,aAND,MAMO;AACH,sBAAM,2BAAN;AACH;AACJ,SAnBE;AAqBHG,mBArBG,uBAqBSZ,IArBT,EAqBe;AAAA;;AACd;AACA,gBAAIa,MAAMV,SAASC,IAAT,GAAgBM,WAAhB,CAA4BI,EAAtC;AACA,gBAAIC,SAASZ,SAASa,QAAT,GAAoBC,GAApB,GAA0BC,KAA1B,CAAgC,QAAhC,EAA0CC,IAA1C,GAAiDC,GAA9D;AACA,mBAAOjB,SAASa,QAAT,GAAoBC,GAApB,GAA0BI,MAA1B,kFACSN,MADT,EACoBf,IADpB,4DAEca,GAFd,EAEsBb,IAFtB,0BAAP;AAIH,SA7BE;AA+BHsB,mBA/BG,yBA+BW;AACV,mBAAOnB,SAASa,QAAT,GAAoBC,GAApB,CAAwB,SAAxB,EAAmCM,IAAnC,CAAwC,OAAxC,EAAiDC,IAAjD,CAAsD,UAACC,CAAD;AAAA,uBAAOA,EAAEC,GAAF,EAAP;AAAA,aAAtD,CAAP;AACH;AAjCE,KAAP;AAqCH,CAvCY,EAAb","file":"Api.js","sourcesContent":["window.Api = (function() {\n\n    return {\n        signUpUser(data) {\n            const { email, password } = data;\n            return firebase.auth().createUserWithEmailAndPassword(email, password)\n        },\n\n        storeUserInfo(data) {\n            const { name, job_title, phone } = data;\n\n            let currentUser = firebase.auth().currentUser;\n            if (currentUser) {\n                return currentUser.updateProfile({\n                    name,\n                    job_title,\n                    phone\n                })\n            } else {\n                throw 'No current user signed in';\n            }\n        },\n\n        submitEvent(data) {\n            // const { event_name, event_type, event_host, event_start_time, event_end_time, event_location, event_additional_info } = data;\n            let uid = firebase.auth().currentUser.id;\n            let newKey = firebase.database().ref().child('events').push().key;\n            return firebase.database().ref().update({\n                [`/events/${newKey}`]: data,\n                [`/user-events/${uid}`]: data\n            })\n        },\n\n        fetchEvents() {\n            return firebase.database().ref('/events').once('value').then((s) => s.val());\n        }\n\n    }\n\n})()\n"],"sourceRoot":"/source/"}